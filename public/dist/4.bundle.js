(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(0)),n=d(r(556)),a=d(r(568)),o=r(18),i=d(r(27)),l=r(74);function d(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.withStyles)(e=>({root:{gridArea:"chat",display:"flex",flexDirection:"column",justifyContent:"space-between",flex:"1",padding:"5px"},[l.device.tablet]:{root:{}},[l.device.laptop]:{root:{}}}))(class extends s.PureComponent{constructor(e){super(e)}render(){const{classes:e}=this.props;return this.props.hide?null:s.default.createElement(i.default,{id:"chat",className:e.root},s.default.createElement(n.default,null),s.default.createElement(a.default,null))}});t.default=u,e.exports=t.default},556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(0)),n=c(r(2)),a=c(r(557)),o=r(18),i=(c(r(43)),c(r(44)),c(r(126)),c(r(53)),c(r(27))),l=r(22),d=r(28),u=c(r(211));function c(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}class f extends s.PureComponent{constructor(e){super(e),this.messagesEnd=null,this.rootRef=null,this.handleClick=this.handleClick.bind(this),this.shouldScroll=!1}handleClick(e){}getSnapshotBeforeUpdate(e,t){if(e.messages.length<this.props.messages.length){let e=document.getElementById("messageList");e&&Math.abs(e.scrollHeight-e.scrollTop-e.offsetHeight)<2&&(this.shouldScroll=!0)}return null}componentDidUpdate(e,t,r){if(this.shouldScroll){let e=document.getElementById("messageList");e.scrollTop=e.scrollHeight}this.shouldScroll=!1}mapMessages(){let e=[];for(let t=0;t<this.props.messages.length;t++)e.push(s.default.createElement(a.default,p({key:this.props.messages[t].id},this.props.messages[t],{onClick:()=>{(0,u.default)(this.props.messages[t].userid)},onContextMenu:this.handleClick})));return e}render(){const{classes:e}=this.props;return s.default.createElement(i.default,{id:"messageList",className:e.root,elevation:4,ref:e=>{this.rootRef=e}},this.mapMessages(),s.default.createElement("div",{style:{float:"left",clear:"both"},ref:e=>{this.messagesEnd=e}}))}}f.propTypes={messages:n.default.arrayOf(n.default.shape({id:n.default.number.isRequired,message:n.default.string.isRequired,username:n.default.string.isRequired,userid:n.default.string.isRequired}).isRequired).isRequired};var h=(0,d.compose)((0,o.withStyles)(e=>({root:{overflowY:"auto",flexGrow:"1",marginBottom:"15px","& > div:nth-child(even)":{color:"dark"===e.palette.type?"#FFF":"#000"},"& > div:nth-child(odd)":{backgroundColor:"#2d2d2dA4",color:"dark"===e.palette.type?"#FFF":"#000"}}})),(0,l.connect)(e=>({messages:e.chat.messages})))(f);t.default=h,e.exports=t.default},557:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(0)),n=c(r(2)),a=c(r(558)),o=c(r(566)),i=c(r(567)),l=r(18),d=(c(r(53)),c(r(29)),r(22)),u=r(28);function c(e){return e&&e.__esModule?e:{default:e}}const p=e=>{let{classes:t,message:r,username:n,userid:l,time:d,accountMap:u}=e,c="",p=!1;if("TPNSbot"===l&&"["==r[0]){p=!0;let e=/\[(.+):(.+)\](.+)/,t=r.match(e);c=t[1],n=t[2],r=t[3]}let f=!1;"twitchplaysconsoles"!=n&&"fossephate"!=n||(n="fosse",f=!0);let h=[];"twitch"==c&&h.push(s.default.createElement(o.default,null));let g=u[l];return g&&(f&&h.push(s.default.createElement(i.default,{type:"dev"})),!g.is_mod||f||p||h.push(s.default.createElement(i.default,{type:"mod"})),g.is_plus&&!g.is_mod&&h.push(s.default.createElement(i.default,{type:"plus"})),g.is_sub&&h.push(s.default.createElement(i.default,{type:"sub1"}))),h=s.default.Children.toArray(h),s.default.createElement("div",{className:t.root,userid:l,onClick:e.onClick},s.default.createElement(a.default,{properties:{className:t.links}},function(e){let t=new Date(e);return t.getHours()+":"+function(e){let t=""+e;for(;t.length<2;)t="0"+t;return t}(t.getMinutes())}(d),h,0==h.length?" ":null,s.default.createElement("b",null,n)," ",r))};p.propTypes={message:n.default.string.isRequired,username:n.default.string.isRequired,userid:n.default.string.isRequired};var f=(0,u.compose)((0,l.withStyles)(e=>({root:{wordBreak:"break-word",paddingLeft:"10px",paddingRight:"10px",paddingTop:"5px",paddingBottom:"5px",fontSize:"14px !important"},links:{color:"#0000ee"}})),(0,d.connect)(e=>({accountMap:e.accountMap})))(p);t.default=f,e.exports=t.default},566:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(0)),n=r(18);r(22);var a=(0,r(28).compose)((0,n.withStyles)(e=>({root:{width:"22px",marginLeft:"2px",marginRight:"2px",backgroundColor:"#FFF",border:"1px solid #333",borderRadius:"4px",padding:"2px"}})))(class extends s.PureComponent{constructor(e){super(e)}render(){const{classes:e}=this.props;return s.default.createElement("img",{className:e.root,src:"https://twitchplaysnintendoswitch.com/images/Glitch_Purple_RGB.png"})}});t.default=a,e.exports=t.default},567:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(0)),n=r(18);r(22);var a=(0,r(28).compose)((0,n.withStyles)(e=>({root:{width:"18px",marginLeft:"2px",marginRight:"2px"}})))(class extends s.PureComponent{constructor(e){super(e)}render(){const{classes:e}=this.props;let t="https://twitchplaysnintendoswitch.com/images/badges/";switch(this.props.type){case"dev":t+="DevBadge.png";break;case"admin":t+="AdminBadge.png";break;case"mod":t+="ModBadge.png";break;case"plus":t+="PlusBadge.png";break;case"sub1":t+="SubBadge1.png"}return s.default.createElement("img",{className:e.root,src:t})}});t.default=a,e.exports=t.default},568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}(r(0)),n=p(r(2)),a=r(22),o=r(206),i=(r(18),p(r(29))),l=(p(r(521)),p(r(27))),d=p(r(578)),u=p(r(579));r(582);var c=p(r(584));function p(e){return e&&e.__esModule?e:{default:e}}r(630);const f=({entity:{name:e,char:t}})=>s.default.createElement("div",null,`${e}: ${t}`),h=({entity:{name:e}})=>s.default.createElement("div",null,`${e}`),g=({entity:{name:e}})=>s.default.createElement("div",null,`${e}`),m=({data:e})=>s.default.createElement("div",null,"Loading");class b extends s.PureComponent{constructor(e){super(e),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleTextChange=this.handleTextChange.bind(this),this.sendMessage=this.sendMessage.bind(this),this.renderUsernameSuggestions=this.renderUsernameSuggestions.bind(this),this.renderCommandSuggestions=this.renderCommandSuggestions.bind(this),this.state={text:"",commands:["help","discord","site","games","goto","source","fc","playing","restartscript","restartserver","restart1","restart2","restart3","fixcontrollers","lock","unlock","forcegoto","setturnlength","setforfeitlength","sublist","modlist","pluslist","ban","tempban","unban","permaban","forcerefresh","lockqueues","unlockqueues","disablegoto","enablegoto","disablechat","enablechat","xboxgoto","xboxgames","xboxgamelist","xboxforcegoto","giveplus","removeplus"],emotes:[]}}handleKeyPress(e){"Enter"===e.key&&(e.preventDefault(),this.sendMessage())}handleTextChange(e){this.setState({text:e.target.value})}sendMessage(){""!==this.state.text&&(this.props.sendMessage(this.state.text),this.setState({text:""}),this.rta.setState({value:""}))}renderUsernameSuggestions(e){let t=[];for(let r=0;r<this.props.userids.length;r++){let s=this.props.userids[r],n=this.props.usernameMap[s];if(null!=n&&-1!=n.toLowerCase().indexOf(e)){if(e.indexOf(n)>-1){t=[];break}t.push({name:n,char:"@"+n})}}return t.slice(0,5)}renderCommandSuggestions(e){let t=[];for(let r=0;r<this.state.commands.length;r++){let s=this.state.commands[r];if(-1!=s.indexOf(e)){if(e.indexOf(s)>-1){t=[];break}t.push({name:s,char:"!"+s})}}return t.slice(0,5)}render(){return s.default.createElement(l.default,{id:"SendMessageForm",elevation:4},s.default.createElement(u.default,{id:"messageBox",containerClassName:"messageBoxContainer",loadingComponent:m,style:{},ref:e=>{this.rta=e},innerRef:e=>{this.textarea=e},containerStyle:{},minChar:0,trigger:{":":{dataProvider:e=>(0,c.default)(e).slice(0,10).map(({name:e,char:t})=>({name:e,char:t})),component:f,output:(e,t)=>({text:e.char,caretPosition:"next"})},"@":{dataProvider:this.renderUsernameSuggestions,component:h,output:(e,t)=>({text:e.char,caretPosition:"next"})},"!":{dataProvider:this.renderCommandSuggestions,component:g,output:(e,t)=>({text:e.char,caretPosition:"end"})}},onChange:this.handleTextChange,onKeyPress:this.handleKeyPress,value:this.state.text,placeholder:"Send a message"}),s.default.createElement(i.default,{variant:"contained",color:"primary",onClick:this.sendMessage},"Send",s.default.createElement(d.default,{style:{marginLeft:"8px"},fontSize:"small"})))}}b.propTypes={sendMessage:n.default.func.isRequired};var y=(0,a.connect)(e=>({userids:e.chat.userids,usernameMap:e.usernameMap}),e=>({sendMessage:t=>{e((0,o.sendMessage)(t))}}))(b);t.default=y,e.exports=t.default},630:function(e,t,r){var s=r(631);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(203)(s,n);s.locals&&(e.exports=s.locals)},631:function(e,t,r){(e.exports=r(202)(!1)).push([e.i,"\r\n\r\n#SendMessageForm {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-evenly;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n\tmin-height: 60px;\r\n\theight: 12%;\r\n\tpadding-left: 5px;\r\n    padding-right: 5px;\r\n}\r\n\r\n#messageBox {\r\n\tdisplay: flex;\r\n\tresize: none;\r\n\twidth: 98%;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n#messageBox:focus {\r\n\t/* border-color: #0AB9E655; */\r\n\toutline-offset: 0px !important;\r\n\toutline: none !important;\r\n\r\n\tbox-shadow: 0 0 3px blue !important;\r\n\t-moz-box-shadow: 0 0 3px blue !important;\r\n\t-webkit-box-shadow: 0 0 3px blue !important;\r\n}\r\n\r\n.messageBoxContainer {\r\n\twidth: 70%;\r\n\theight: 70%;\r\n\tfont-size: 14px;\r\n\tline-height: 20px;\r\n\t/* font-size: inherit !important; */\r\n}\r\n",""])}}]);